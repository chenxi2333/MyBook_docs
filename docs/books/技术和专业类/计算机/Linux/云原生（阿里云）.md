## 第一讲：云原生第一课 
- 云原生是基于云计算的一种技术。2018年随着容器的广泛使用开始出现，2019是云原生技术普及的元年。
   - 预备知识：Linux操作系统（鸟哥）、计算机基础、容器的使用基础
   - 如何学习：听课、自测、实践
- 什么是云原生：软件诞生生在云上，长在云上——需要全新的软件开发、运维、发布模式。
   - 敏捷的方法——云的最佳实践。
   - 技术范畴：开发流程、管理、监控、底层技术、云原生工具集、Serverless。
   - 理论基础：不可变基础设施——容器镜像，云应用编排理论——容器设计模式
- 基础设施：基础设施可以随时替换
   - 可以提升基础设施一致性和可靠性、简单可以预测的部署和运维
## 第二讲：容器的基本概念

-   计算机进程：以前的操作系统，互相可见可以通信，共享一份文件系统；
   - 容器技术：文件系统、资源视图互相隔离，资源可以限制。 
   - 容器就是一个视图隔离、资源可限制、独立文件系统的进程集合。
- 镜像：
   - 容器具有一个独立的文件系统，因为使用的是系统的资源，所以在独立的文件系统内不需要具备内核相关的代码或者工具，我们只需要提供容器所需的二进制文件、配置文件以及依赖即可。
   - 综上所述，我们将这些容器运行时所需要的所有的文件集合称之为容器镜像。
   - 我们使用Dockerfile来构建镜像。
   - 容器时一组具有隔离特性的进程集合。
   - moby时目前最流行的容器管理引擎。
- 从物理机到虚拟机到容器
   - 物理机服务器：服务器变多的时候需要额外的部署成本，而且难以迁移和拓展。
   - 虚拟机：在虚拟机上部署一个镜像——每个APP运行在一个VM里面。在一台物理机中运行多个操作系统。VM也提供了模板克隆来提供迁移。VM的缺陷：每个虚拟机都需要一个【完整】的操作系统，会占用额外的资源。
   - 云计算时代：虚拟化技术
      - 历史：从70年代虚拟化的概念出现（VMare、Kvm）到LXC、Docker（2014年）出现
      - 定义：一种计算机的资源管理系统。将计算机实体的资源抽象然后分割组成成为一个或者多个点啊弄配置环境。
      - 分类
         - Type I: 直接凌驾于硬件之上，构建出多个隔离的操作系统环境
Type II: 依赖于宿主操作系统，在其上构建出多个隔离的操作系统环境
         - 全虚拟化：完全模拟一台计算机的技术也称为全虚拟化；
半虚拟化：需要修改系统内核；
硬件辅助虚拟化：不需要全部用于模拟，而是模拟一部分。
KVM（for Kernel-based Virtual Machine）：一种硬件辅助的虚拟化
            - 集合在Linux内核中，通常搭配QEMU一起使用。
      - 容器技术：以上的工作是基于电脑的HyperVsior实现，代价是相对于需求的程序，虚拟出一个完整的操作系统造成了大量的冗余。而容器则是针对于这一点，仅仅是创造出一个能够让程序进程相互独立的运行的运行环境，就能够完成想要的工作。
         - 容器并不依赖HyperVsior。
         - 操作系统像是一个带厨卫的公寓，但是我只需让不同员工一起工作，为节省空间，就分割出不同的办公室——办公室就是一个容器，包含了软件需求的环境而不需要一整套系统。
         - ![image.png](https://cdn.nlark.com/yuque/0/2023/png/34560010/1679714929183-62d4e8b5-4ece-48ba-b188-98d9ef6a70c8.png#averageHue=%23437980&clientId=ufc235c07-5b1c-4&from=paste&height=285&id=u327dfe95&name=image.png&originHeight=427&originWidth=1137&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=191875&status=done&style=none&taskId=u30d3da35-4632-4ef3-ab49-99d2bb57307&title=&width=758)
      - 为了能够让容器更加安全，有了一种“超轻虚拟化”的基础，典型就是firecracker。
## 第三课 Kubernetes（k8s）

- 意味“舵手”。是一个自动化的容器编排平台。
- 功能包括了：调度、自动恢复、水平伸缩
- 架构：二层架构，Master完成把UI的命令传递给节点。
   - Master中包含了API Server、Controller、Scheduler、etcd。
   - Node上有Pod：Pod包含一个或者多个容器，
